<!-- notice section -->
<section>
    <div class="container-fluid">
        <!-- <div class="notice-section">
            <div class="notice-content">
                <div class="icon-box">
                    <i class="ri-file-text-line"></i>
                </div>
                <div class="notice-box">
                    <h3>Notice title</h3>
                    <p>Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been
                        the industry's standard dummy</p>
                </div>
            </div>
            <a class="close-icon"><i class="ri-close-line"></i></a>
        </div> -->
    </div>
</section>
<!-- notice section -->

<!-- tiles section -->
<section class="dashboard-tiles">
    <div class="container-fluid">
        <div class="row g-3" *ngIf="( user$ | async )?.role?.name !== 'vendor'">
            <div class="col-xl-3 col-sm-6">
                <div class="card-tiles">
                    <div>
                        <h6>{{ 'total_revenue' | translate }}</h6>
                        <h3>{{ getFakeRevenue() | currencySymbol }}</h3>
                        <small class="text-success">Données de démonstration</small>
                    </div>
                    <div class="icon-box">
                        <i class="ri-wallet-line"></i>
                    </div>
                </div>
            </div>
            <div class="col-xl-3 col-sm-6">
                <div class="card-tiles">
                    <div>
                        <h6>{{ 'total_orders' | translate }}</h6>
                        <h3>{{ getFakeOrders() }}</h3>
                        <small class="text-info">Commandes simulées</small>
                    </div>
                    <div class="icon-box">
                        <i class="ri-file-text-line"></i>
                    </div>
                </div>
            </div>
            <div class="col-xl-3 col-sm-6">
                <div class="card-tiles">
                    <div>
                        <h6>{{ 'total_school' | translate }}</h6>
                        <h3>{{ getFakeSchools() }}</h3>
                        <small class="text-warning">Écoles partenaires</small>
                    </div>
                    <div class="icon-box">
                        <i class="ri-box-3-line"></i>
                    </div>
                </div>
            </div>
            <div class="col-xl-3 col-sm-6">
                <div class="card-tiles">
                    <div>
                        <h6>{{ 'total_user' | translate }}</h6>
                        <h3>15M</h3>
                        <small class="text-muted">Utilisateurs avec rôles</small>
                    </div>
                    <div class="icon-box">
                        <i class="ri-group-line"></i>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Additional row for donation tracking -->
        <div class="row g-3 mt-3" *ngIf="( user$ | async )?.role?.name !== 'vendor'">
            <div class="col-xl-3 col-sm-6">
                <div class="card-tiles donation-tile">
                    <div>
                        <h6>Dons (3% du revenu)</h6>
                        <h3>{{ getDonationAmount() | currencySymbol }}</h3>
                        <small class="text-success">450 DT automatique</small>
                    </div>
                    <div class="icon-box">
                        <i class="ri-hand-heart-line"></i>
                    </div>
                </div>
            </div>
            <div class="col-xl-3 col-sm-6">
                <div class="card-tiles">
                    <div>
                        <h6>Rôles Utilisateurs</h6>
                        <h3>{{ getTotalRoles() }}</h3>
                        <small class="text-info">Admin, Prof, Étudiant</small>
                    </div>
                    <div class="icon-box">
                        <i class="ri-user-settings-line"></i>
                    </div>
                </div>
            </div>
            <div class="col-xl-3 col-sm-6">
                <div class="card-tiles">
                    <div>
                        <h6>Utilisateurs Actifs</h6>
                        <h3>{{ getActiveUsers() }}</h3>
                        <small class="text-primary">Dernières 24h</small>
                    </div>
                    <div class="icon-box">
                        <i class="ri-user-star-line"></i>
                    </div>
                </div>
            </div>
            <div class="col-xl-3 col-sm-6">
                <div class="card-tiles">
                    <div>
                        <h6>Nouveaux Inscrits</h6>
                        <h3>{{ getNewUsers() }}</h3>
                        <small class="text-warning">Cette semaine</small>
                    </div>
                    <div class="icon-box">
                        <i class="ri-user-add-line"></i>
                    </div>
                </div>
            </div>
        </div>

        <div class="row" *ngIf="( user$ | async )?.role?.name === 'vendor'">
            <div class="col-3">
                <div class="card-tiles">
                    <div>
                        <h6>{{ 'total_revenue' | translate }}</h6>
                        <h3>{{ (statistics$ | async)?.total_revenue | currencySymbol }}</h3>
                    </div>
                    <div class="icon-box">
                        <i class="ri-wallet-line"></i>
                    </div>
                </div>
            </div>
            <div class="col-3">
                <div class="card-tiles">
                    <div>
                        <h6>{{ 'total_orders' | translate }}</h6>
                        <h3>{{ (statistics$ | async)?.total_orders }}</h3>
                    </div>
                    <div class="icon-box">
                        <i class="ri-file-text-line"></i>
                    </div>
                </div>
            </div>
            <div class="col-3">
                <div class="card-tiles">
                    <div>
                        <h6>{{ 'total_product' | translate }}</h6>
                        <h3>{{ (product$ | async)?.total }}</h3>
                    </div>
                    <div class="icon-box">
                        <i class="ri-box-3-line"></i>
                    </div>
                </div>
            </div>
            <div class="col-3">
                <div class="card-tiles">
                    <div>
                        <h6>{{ 'total_balance' | translate }}</h6>
                        <h3>{{ ( user$ | async )?.vendor_wallet?.balance }}</h3>
                    </div>
                    <div class="icon-box">
                        <i class="ri-group-line"></i>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Tracking Charts Section -->
<section class="tracking-charts">
    <div class="container-fluid">
        <div class="row g-4 mt-4">
            <!-- Price Tracking Chart -->
            <div class="col-xl-6 col-lg-12">
                <div class="card transparent-chart">
                    <div class="card-header">
                        <h5 class="card-title">
                            <i class="ri-line-chart-line me-2"></i>
                            Suivi des Prix
                        </h5>
                    </div>
                    <div class="card-body">
                        <apx-chart
                            [series]="priceTrackingChart.series"
                            [chart]="priceTrackingChart.chart"
                            [xaxis]="priceTrackingChart.xaxis"
                            [stroke]="priceTrackingChart.stroke"
                            [dataLabels]="priceTrackingChart.dataLabels"
                            [grid]="priceTrackingChart.grid"
                            [title]="priceTrackingChart.title">
                        </apx-chart>
                    </div>
                </div>
            </div>

            <!-- Donations Tracking Chart -->
            <div class="col-xl-6 col-lg-12">
                <div class="card transparent-chart">
                    <div class="card-header">
                        <h5 class="card-title">
                            <i class="ri-hand-heart-line me-2"></i>
                            Suivi des Dons
                        </h5>
                    </div>
                    <div class="card-body">
                        <apx-chart
                            [series]="donationsChart.series"
                            [chart]="donationsChart.chart"
                            [xaxis]="donationsChart.xaxis"
                            [dataLabels]="donationsChart.dataLabels"
                            [grid]="donationsChart.grid"
                            [title]="donationsChart.title">
                        </apx-chart>
                    </div>
                </div>
            </div>

            <!-- Teachers Tracking Chart -->
            <div class="col-xl-6 col-lg-12">
                <div class="card transparent-chart">
                    <div class="card-header">
                        <h5 class="card-title">
                            <i class="ri-user-3-line me-2"></i>
                            Suivi des Professeurs
                        </h5>
                    </div>
                    <div class="card-body">
                        <apx-chart
                            [series]="teachersChart.series"
                            [chart]="teachersChart.chart"
                            [labels]="teachersChart.labels"
                            [colors]="teachersChart.colors"
                            [legend]="teachersChart.legend"
                            [dataLabels]="teachersChart.dataLabels"
                            [responsive]="teachersChart.responsive">
                        </apx-chart>
                    </div>
                </div>
            </div>

            <!-- Students Tracking Chart -->
            <div class="col-xl-6 col-lg-12">
                <div class="card transparent-chart">
                    <div class="card-header">
                        <h5 class="card-title">
                            <i class="ri-graduation-cap-line me-2"></i>
                            Suivi des Étudiants
                        </h5>
                    </div>
                    <div class="card-body">
                        <apx-chart
                            [series]="studentsChart.series"
                            [chart]="studentsChart.chart"
                            [xaxis]="studentsChart.xaxis"
                            [stroke]="studentsChart.stroke"
                            [dataLabels]="studentsChart.dataLabels"
                            [fill]="studentsChart.fill"
                            [grid]="studentsChart.grid"
                            [title]="studentsChart.title">
                        </apx-chart>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

