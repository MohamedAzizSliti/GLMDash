import{b as et}from"./chunk-MEBPK2N6.js";import{a as tt}from"./chunk-L7Y73GM4.js";import"./chunk-PVRP4VFG.js";import{a as qe,b as Ye,c as Ke,d as Xe,e as Je,f as Ze}from"./chunk-IJGVJEQP.js";import{a as He}from"./chunk-XA3FHL27.js";import"./chunk-OOGIV3S4.js";import"./chunk-VTLS4DKO.js";import"./chunk-WMGCKGTL.js";import"./chunk-YPFIT54E.js";import{a as H}from"./chunk-HCMAZYZ2.js";import"./chunk-K5FNPDN3.js";import"./chunk-WW5G2KA2.js";import"./chunk-JHPC47PJ.js";import{a as W,m as q}from"./chunk-O55BQOZL.js";import{a as We}from"./chunk-ISOQKGNC.js";import{A as Me,B as Pe,Dc as ze,E as G,Fa as Ge,G as Se,Ga as Ae,L as Fe,O as Oe,Pb as Ue,T as Re,Ua as je,a as ee,aa as Ve,ab as Be,ca as Ee,fb as Le,k as xe,ka as ke,l as Te,lb as $e,m as te,ma as Ne,n as Ie,o as N,p as De,qb as Qe,z as ie}from"./chunk-X2K52VJG.js";import{$ as E,Bc as we,Ca as s,Da as u,Ia as ne,Ib as X,Jb as he,Kb as J,Nb as h,Ob as g,Pb as fe,Qa as C,Rb as ge,S as K,Sa as l,Sc as Z,Ua as re,Vc as z,Wa as se,Xa as Q,Y as j,Z as B,ab as c,bb as d,bc as ue,c as ae,cb as m,da as L,db as le,ea as $,eb as pe,gb as P,h as v,ic as ve,jb as D,jc as Ce,kb as y,kc as U,la as w,ma as x,nc as ye,qc as _e,rb as S,sb as F,tb as O,ub as ce,vc as be,wb as T,xb as de,yb as k,zb as me}from"./chunk-V4SAOAZP.js";import"./chunk-CWTPBX7D.js";var R=(()=>{let t=class t{constructor(e){this.payload=e}};t.type="[Trip] Trip Get";let a=t;return a})(),Y=(()=>{let t=class t{constructor(e){this.payload=e}};t.type="[Trip] Export";let a=t;return a})();var it=(()=>{let t=class t{constructor(e){this.http=e}getTrips(e){return this.http.get(`${ee.URL}/traccar/reports/trips`,{params:e})}exportTrips(e){return this.http.post(`${ee.URL}/traccar/reports/trips`,e,{responseType:"blob"})}};t.\u0275fac=function(i){return new(i||t)(E(we))},t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"});let a=t;return a})();var _,b=(_=class{constructor(t,o){this.notificationService=t,this.tripService=o}static trip(t){return t.trip}getTrips(t,{payload:o}){return this.tripService.getTrips(o).pipe(K({next:e=>{console.log("/***** The Value result result ****/"),console.log(e),t.patchState({trip:{data:e.data,total:e?.total?e?.total:e.data?.length}})},error:e=>{throw new Error(e?.error?.message)}}))}export(t,{payload:o}){return this.tripService.exportTrips(o).pipe(K({next:e=>{let i=new Blob([e],{type:"text/xlsx"}),n=window.URL.createObjectURL(i),r=document.createElement("a");r.href=n,r.download="trips.xlsx",r.click(),window.URL.revokeObjectURL(n)},error:e=>{throw new Error(e?.error?.message)}}))}},_.\u0275fac=function(o){return new(o||_)(E(Ge),E(it))},_.\u0275prov=j({token:_,factory:_.\u0275fac}),_);v([te(R)],b.prototype,"getTrips",null);v([te(Y)],b.prototype,"export",null);v([De()],b,"trip",null);b=v([Ie({name:"trip",defaults:{trip:{data:[],total:0}}})],b);var mt=["googleMap"],ht=a=>({"position-relative spinning":a}),ot=(a,t)=>({strokeColor:a,strokeOpacity:1,strokeWeight:2,fillColor:t,fillOpacity:.4});function ft(a,t){if(a&1&&(le(0),m(1,"div",16),pe()),a&2){let o=y();s(),l("ngClass",he(1,ht,o.loadingRoute))}}function gt(a,t){if(a&1&&T(0),a&2){let o=y();k(" ",o.isPanelCollapsed?">":"<"," ")}}function ut(a,t){if(a&1&&(c(0,"div",17)(1,"div",18),m(2,"div",19),d(),c(3,"div",20)(4,"span",21),T(5),h(6,"date"),d(),c(7,"span",22),T(8),d()()()),a&2){let o=t.$implicit;s(5),me(" ",fe(6,3,o.fixTime,"dd-MM-yyyy HH:mm:ss")," | Vitesse : ",o.speed," "),s(3),k(" ",o.adresse," ")}}function vt(a,t){if(a&1&&m(0,"map-polyline",28),a&2){let o=y(2);l("path",o.path)("options",o.polylineOptions)}}function Ct(a,t){if(a&1&&m(0,"map-polygon",29),a&2){let o=t.$implicit;l("paths",o.path)("options",J(2,ot,o.color,o.fillColor))}}function yt(a,t){if(a&1&&m(0,"map-circle",30),a&2){let o=t.$implicit;l("center",o.center)("radius",o.radius)("options",J(3,ot,o.color,o.fillColor))}}function _t(a,t){if(a&1){let o=P();c(0,"google-map",23,1),D("click",function(){w(o);let i=y();return x(i.closePanel())}),m(2,"map-marker",24)(3,"map-marker",24),C(4,vt,1,2,"map-polyline",25)(5,Ct,1,5,"map-polygon",26)(6,yt,1,6,"map-circle",27),d()}if(a&2){let o=y();l("center",o.center)("zoom",o.zoom)("options",o.options),s(2),l("position",o.startPosition)("icon",o.greenIcon)("title","Point de d\xE9part"),s(),l("position",o.endPosition)("icon",o.redIcon)("title","Point d'arriv\xE9e"),s(),l("ngIf",o.showPolyline),s(),l("ngForOf",o.geofencesPolygons),s(),l("ngForOf",o.geofencesCercles)}}function bt(a,t){a&1&&(c(0,"div",31),m(1,"i",32),d())}var at=(()=>{let t=class t{constructor(e,i,n){this.activeModal=e,this.accessDataService=i,this.serverGpsService=n,this.loadingRoute=!1,this.zoom=12,this.modalOpen=!1,this.options={mapTypeId:"roadmap",clickableIcons:!1,disableDefaultUI:!1},this.showPolyline=!0,this.waypointsAddresses=[],this.routes=[{name:"Route 1",distance:5},{name:"Route 2",distance:12},{name:"Route 3",distance:8}],this.significantPoints=[],this.loadModal=!1,this.isPanelCollapsed=!0,this.firstCallRoute=!0,this.modalLoad="",this.visible=!0,this.params=null,this.greenIcon={url:"http://maps.google.com/mapfiles/ms/icons/green-dot.png"},this.redIcon={url:"http://maps.google.com/mapfiles/ms/icons/red-dot.png"},this.startPosition={lat:48.8566,lng:2.3522},this.endPosition={lat:48.8647,lng:2.349},this.polylineOptions={strokeColor:"#1a22c8",strokeWeight:3,icons:[]},this.path=[{lat:48.8566,lng:2.3522},{lat:48.8606,lng:2.3376},{lat:48.8647,lng:2.349}],this.firstCall=!1,this.geofencesPolygons=[],this.geofencesCercles=[],this.geofences=[],this.geofencesDEMO=[{id:1,name:"Geofence 1",path:[{lat:48.8566,lng:2.3522},{lat:48.8606,lng:2.3376},{lat:48.8543,lng:2.3297},{lat:48.8566,lng:2.3522}],color:"#FF0000",fillColor:"#FFCCCC"},{id:2,name:"Geofence 2",path:[{lat:48.8647,lng:2.349},{lat:48.8675,lng:2.3381},{lat:48.8628,lng:2.3333},{lat:48.8647,lng:2.349}],color:"#0000FF",fillColor:"#CCCCFF"}]}ngOnInit(){this.params&&(console.log("/***** The Value params ****/"),console.log(this.params)),this.params&&this.params.deviceId&&(this.loadPosition(),this.fetchGeofences())}loadModalData(e=!0){this.loadModal=!!e,this.modalLoad=e?"modal-load":""}loadRoutes(){this.loadingRoute=!0;let{startTime:e,endTime:i,deviceId:n}=this.params,r=new Date(e).toISOString(),p=new Date(i).toISOString();this.accessDataService.getData({deviceId:n,from:r,to:p},"/traccar/reports/route").subscribe(f=>{this.significantPoints=f,this.reverseGeocodePoints(),this.loadingRoute=!1},f=>{},()=>{})}reverseGeocodePoints(){let e=new google.maps.Geocoder;this.significantPoints.forEach(i=>{let n={lat:i.latitude,lng:i.longitude};e.geocode({location:n},(r,p)=>{p==="OK"&&r[0]&&this.waypointsAddresses.push({adresse:r[0].formatted_address,speed:i.speed,fixTime:i.fixTime})})})}loadPosition(){this.loadModalData(!0);let{startTime:e,endTime:i,deviceId:n}=this.params,r=new Date(e).toISOString(),p=new Date(i).toISOString();this.serverGpsService.getPositions(n,r,p).subscribe(f=>{let M=f.map(oe=>({lat:oe.latitude,lng:oe.longitude}));this.path=M,this.startPosition=M[0],this.endPosition=M[M.length-1],this.zoom=18,this.center=M[(M.length-1)/2],this.loadModalData(!1),setTimeout(()=>this.fitMapToPath(),100),this.addDynamicArrows()},f=>{},()=>{})}addDynamicArrows(){let e=[];for(let n=0;n<this.path.length-1;n+=10){let r=this.path[n],p=this.path[n+1],f=this.calculateAngle(r,p);e.push({icon:{path:google.maps.SymbolPath.FORWARD_CLOSED_ARROW,scale:3,strokeColor:"#0014ff"},offset:`${n/this.path.length*100}%`,rotation:f})}this.polylineOptions.icons=e,this.showPolyline=!1,setTimeout(()=>{this.showPolyline=!0},0)}calculateAngle(e,i){let n=i.lat-e.lat,r=i.lng-e.lng;return Math.atan2(n,r)*180/Math.PI}fitMapToPath(){console.log("/***** The Value ****/"),console.log(this.map);let e=new google.maps.LatLngBounds;this.path.forEach(i=>e.extend(i)),this.map.fitBounds(e)}fitMapToGeofences(){let e=new google.maps.LatLngBounds;this.geofences.forEach(i=>i.path.forEach(n=>e.extend(n))),this.map.fitBounds(e)}togglePanel(){this.isPanelCollapsed&&this.firstCallRoute&&(this.firstCallRoute=!1,this.loadRoutes()),this.isPanelCollapsed=!this.isPanelCollapsed}closePanel(){this.isPanelCollapsed=!0}fetchGeofences(){this.accessDataService.getData(null,"/traccar/geofences").subscribe(e=>{this.geofences=e.data,this.drawGeofences()},e=>{},()=>{})}drawGeofences(){this.geofences.forEach(e=>{let{area:i}=e;i.startsWith("CIRCLE")?this.drawCircleGeofence(i,e):i.startsWith("POLYGON")&&this.drawPolygonGeofence(i,e)})}drawCircleGeofence(e,i){let[n,r]=this.parseCircleArea(e);console.log("/***** The Value  this.parseCircleArea(area) ****/"),console.log(this.parseCircleArea(e)),this.geofencesCercles.push({id:1,name:i.name,center:n,radius:r,color:"#FF0000",fillColor:"#FFCCCC"})}addMarkerLabelOrigin(){return new google.maps.Point(0,0)}drawPolygonGeofence(e,i){let n=this.parsePolygonArea(e);this.geofencesPolygons.push({id:1,name:i.name,path:n,color:"#FF0000",fillColor:"#FFCCCC"})}parseCircleArea(e){let i=e.match(/CIRCLE \(([^ ]+) ([^,]+), ([^)]*)\)/);if(console.log("/***** The Valu matche ****/"),console.log(i),i){let n=parseFloat(i[2]),r=parseFloat(i[1]),p=parseFloat(i[3]);return[{lat:r,lng:n},p]}return[{lat:0,lng:0},0]}parsePolygonArea(e){let i=e.match(/POLYGON \(\(([^)]+)\)\)/);return i?i[1].split(",").map(n=>{let[r,p]=n.split(" ").map(Number);return{lat:p,lng:r}}):[]}};t.\u0275fac=function(i){return new(i||t)(u(ke),u(He),u(et))},t.\u0275cmp=L({type:t,selectors:[["app-detail-trip-modal"]],viewQuery:function(i,n){if(i&1&&S(mt,5),i&2){let r;F(r=O())&&(n.map=r.first)}},inputs:{params:"params"},decls:20,vars:17,consts:[["iggnv",""],["googleMap",""],[1,"modal-header"],[1,"fw-semibold"],[3,"click","spinner","id"],[1,"ri-close-line"],[1,"modal-body"],[1,"panel"],["title","Les routes",1,"toggle-btn",3,"click"],[4,"ngIf","ngIfElse"],[1,"panel-content"],[2,"margin-bottom","10px","border-bottom","1px solid var(--theme-color)"],["class","row","style","margin: 0px",4,"ngFor","ngForOf"],[1,"map-container"],["height","500px","width","500px","width","100%",3,"center","zoom","options","click",4,"ngIf"],["class","modal-loader",4,"ngIf"],[3,"ngClass"],[1,"row",2,"margin","0px"],[1,"column"],[1,"dashedVerticalDivider",2,"border","1px dashed","margin-top","10px","margin-bottom","12px"],[1,"column",2,"flex","1","margin","0 10px"],[1,"primaryColor14SemiBold","ellipseText",2,"-webkit-line-clamp","1"],[1,"blackColor14Medium","ellipseText",2,"-webkit-line-clamp","1","margin-top","2px"],["height","500px","width","500px","width","100%",3,"click","center","zoom","options"],[3,"position","icon","title"],[3,"path","options",4,"ngIf"],[3,"paths","options",4,"ngFor","ngForOf"],[3,"center","radius","options",4,"ngFor","ngForOf"],[3,"path","options"],[3,"paths","options"],[3,"center","radius","options"],[1,"modal-loader"],[1,"fa","fa-spinner","rotate-refresh"]],template:function(i,n){if(i&1){let r=P();c(0,"div")(1,"div",2)(2,"h3",3),T(3),h(4,"translate"),d(),c(5,"app-button",4),D("click",function(){return w(r),x(n.activeModal.dismiss("Cross click"))}),m(6,"i",5),d()(),c(7,"div",6)(8,"div",7)(9,"button",8),D("click",function(){return w(r),x(n.togglePanel())}),C(10,ft,2,3,"ng-container",9)(11,gt,1,1,"ng-template",null,0,ge),d(),c(13,"div",10)(14,"h6",11),T(15,"Passed Routes"),d(),C(16,ut,9,6,"div",12),d()(),c(17,"div",13),C(18,_t,7,12,"google-map",14),d()(),C(19,bt,2,0,"div",15),d()}if(i&2){let r=ce(12);Q("ngb-modal-wrapper ",n.modalLoad,""),s(3),de(g(4,15,"detail_trip")),s(2),se("btn btn-close"),l("spinner",!1)("id","customer_modal_close_btn"),s(3),re("collapsed",n.isPanelCollapsed),s(2),l("ngIf",n.loadingRoute)("ngIfElse",r),s(6),l("ngForOf",n.waypointsAddresses),s(2),l("ngIf",n.visible),s(),l("ngIf",n.loadModal)}},dependencies:[ve,Ce,U,qe,Ye,Ke,Xe,Je,je,_e,z],styles:['.spinning[_ngcontent-%COMP%]:before{content:"";width:18px;height:18px;border-radius:50%;right:10px;top:0;position:absolute;border:2px solid white;border-right:3px solid #27ae60;animation:_ngcontent-%COMP%_rotate360 .5s infinite linear}@keyframes _ngcontent-%COMP%_rotate360{to{transform:rotate(360deg)}}.modal-container[_ngcontent-%COMP%]{display:flex;height:100%}.panel[_ngcontent-%COMP%]{background-color:#000000b3;width:250px;z-index:9999999999999;transition:width .3s ease;border-right:1px solid #ddd;position:absolute;display:flex;flex-direction:column;height:94%}.panel.collapsed[_ngcontent-%COMP%]{width:15px}.panel.collapsed[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%], .panel.collapsed[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{display:none}.toggle-btn[_ngcontent-%COMP%]{position:absolute;top:50%;transform:translateY(-50%);right:-15px;background-color:var(--theme-color);color:#fff;border:none;border-radius:50%;height:28px;width:28px;cursor:pointer}.panel-content[_ngcontent-%COMP%]{padding:8px;overflow:scroll}.map-container[_ngcontent-%COMP%]{flex:1;position:relative}']});let a=t;return a})();var wt=["detailTripModal"],xt=["tableTable"],Tt=["confirmationModal"],rt=()=>[];function It(a,t){if(a&1&&(c(0,"div",8)(1,"form",3)(2,"app-page-wrapper",4),m(3,"select2",9),h(4,"async"),h(5,"async"),h(6,"translate"),d()()()),a&2){let o,e=y();s(),l("formGroup",e.form),s(),l("gridClass","col-sm-12")("title","select_consumer"),s(),l("data",(o=g(4,5,e.users$))!=null&&o.length?g(5,7,e.users$):X(11,rt))("placeholder",g(6,9,"select_consumer"))}}function Dt(a,t){if(a&1){let o=P();c(0,"div",10)(1,"a",11),D("click",function(){w(o);let i=y();return x(i.export())}),m(2,"i",12),T(3),h(4,"translate"),d()()}a&2&&(s(3),k(" ",g(4,1,"Export")," "))}function nt(a){return new Ve(a.year,a.month,a.day)}var V=class V{constructor(t,o,e,i,n,r){this.document=t,this.formatter=o,this.modalService=e,this.renderer=i,this.store=n,this.formBuilder=r,this.selectedTrip=null,this.selectedTypes=[1],this.balance=0,this.search=new ae,this.type_trips=[{value:!1,label:"R\xE9sum\xE9"},{value:!0,label:"Rpport journalier"}],this.tableConfig={columns:[{title:"Heure de d\xE9part",dataField:"startTime",type:"date"},{title:"Date de fin",dataField:"endTime",type:"date"},{title:"Dur\xE9e",dataField:"duration"},{title:"Distance",dataField:"distance",type:"distance"},{title:"Vitesse moyenne",dataField:"averageSpeed",type:"speed"},{title:"Vitesse maximum",dataField:"maxSpeed",type:"speed"},{title:"Adresse de d\xE9part",dataField:"startAddress"},{title:"Adresse de fin",dataField:"endAddress"},{title:"Prix Carburant (TND)",dataField:"fuel_cost",type:"string"}],rowActions:[{label:"View D\xE9tail",actionToPerform:"view_map",icon:"ri-route-line",permission:"trip.index"}],data:[],total:0},this.selecteVehicle=null,this.form=this.formBuilder.group({consumer_id:new G("",[ie.required]),vehicle_id:new G(null),daily:new G(!1),balance:new G("",[ie.required])}),this.trip$.subscribe(p=>{this.tableConfig.data=p?p?.data:[],this.tableConfig.total=p?p?.total:0}),this.roleName$.subscribe(p=>{p=="admin"&&this.store.dispatch(new Ue({status:1}))}),this.form.controls.vehicle_id.valueChanges.subscribe(p=>{p?(this.paginateInitialData.daily=this.form.get("daily")?.value,this.paginateInitialData.vehicle_id=p,this.paginateInitialData.claculate_fuel=!0,this.store.dispatch(new R(this.paginateInitialData)),this.trip$.subscribe(f=>{this.tableConfig.data=f?f?.data:[],this.tableConfig.total=f?f?.total:0}),this.renderer.addClass(this.document.body,"loader-none")):(this.balance=0,this.tableConfig.data=[],this.tableConfig.total=0,this.form.controls.balance.reset())}),this.form.controls.consumer_id.valueChanges.subscribe(p=>{this.form.controls.vehicle_id.setValue(null),p?this.store.dispatch(new W({status:1,user_id:p})):this.store.dispatch(new W({status:1}))})}ngOnInit(){this.store.dispatch(new W({status:1}));let t=this.gettodayRange();this.todayStartAt=t.start,this.todayEndAt=t.end,console.log(this.tableMain),setTimeout(()=>{this.tableMain.onDateSelection(nt(this.formatter.parse(t.start))),this.tableMain.onDateSelection(nt(this.formatter.parse(t.end)))}),this.vehicle$.subscribe(o=>{this.selecteVehicle=localStorage.getItem("selectedVehicle"),this.selecteVehicle?setTimeout(()=>{this.form.controls.vehicle_id.setValue(parseInt(this.selecteVehicle.toString()))}):this.form.controls.vehicle_id.setValue(null)})}gettodayRange(){let t=new Date,o=new Date(t);o.setDate(t.getDate()),o.setHours(0,0,0,0);let e=new Date(t);return e.setDate(t.getDate()),e.setHours(23,59,59,999),{start:o.toISOString(),end:e.toISOString()}}onTableChange(t){this.paginateInitialData=t,console.log(this.paginateInitialData);let o=this.form.controls.vehicle_id?.value;this.paginateInitialData.vehicle_id=o,this.paginateInitialData.daily=this.form.get("daily")?.value,this.paginateInitialData.from=t.start_date,this.paginateInitialData.to=t.end_date,o&&this.paginateInitialData.from&&this.paginateInitialData.to&&this.store.dispatch(new R(t))}ngOnDestroy(){this.renderer.removeClass(this.document.body,"loader-none")}productDropdown(t){t.innerSearchText&&this.search.next("")}searchProduct(t){this.search.next(t.search)}changeSelect(){this.form?.get("daily")?.value&&(this.paginateInitialData.daily=this.form.get("daily")?.value),this.paginateInitialData&&this.paginateInitialData.from&&this.paginateInitialData.to&&this.store.dispatch(new R(this.paginateInitialData))}actionToPerform(t){this.selectedTrip=t.data;let o=this.modalService.open(at,{ariaLabelledBy:"address-add-Modal",centered:!0,windowClass:"theme-modal modal-lg"});o.componentInstance.params=this.selectedTrip,o.result.then(e=>{},e=>{})}export(){this.store.dispatch(new Y({vehicle_id:this.paginateInitialData.vehicle_id,from:this.paginateInitialData.from,to:this.paginateInitialData.to,export:!0}))}};V.\u0275fac=function(o){return new(o||V)(u(ue),u(Ee),u(Ne),u(ne),u(xe),u(Re))},V.\u0275cmp=L({type:V,selectors:[["app-trip"]],viewQuery:function(o,e){if(o&1&&(S(wt,5),S(xt,5),S(Tt,5)),o&2){let i;F(i=O())&&(e.detailTripModal=i.first),F(i=O())&&(e.tableMain=i.first),F(i=O())&&(e.ConfirmationModal=i.first)}},decls:15,vars:25,consts:[["tableTable",""],[1,"row","g-0"],["class","col-xxl-4 col-xl-5",4,"ngIf"],[3,"formGroup"],[3,"gridClass","title"],["formControlName","vehicle_id",1,"custom-select",3,"data","placeholder"],["class","d-flex flex-wrap gap-2","button","",4,"hasPermission"],[3,"tableChanged","action","dateRange","tableConfig"],[1,"col-xxl-4","col-xl-5"],["formControlName","consumer_id",1,"custom-select",3,"data","placeholder"],["button","",1,"d-flex","flex-wrap","gap-2"],["href","javascript:void(0)",1,"align-items-center","btn","btn-outline","me-2",3,"click"],[1,"ri-download-2-line"]],template:function(o,e){if(o&1){let i=P();c(0,"div",1),C(1,It,7,12,"div",2),h(2,"async"),c(3,"div"),h(4,"async"),c(5,"form",3)(6,"app-page-wrapper",4),m(7,"select2",5),h(8,"async"),h(9,"async"),h(10,"translate"),d()()()(),c(11,"app-page-wrapper",4),C(12,Dt,5,3,"div",6),c(13,"app-table",7,0),D("tableChanged",function(r){return w(i),x(e.onTableChange(r))})("action",function(r){return w(i),x(e.actionToPerform(r))}),d()()}if(o&2){let i;s(),l("ngIf",g(2,14,e.roleName$)==="admin"),s(2),Q("col-xxl-",g(4,16,e.roleName$)==="admin"?8:6," col-xl-5 col-offset-2 col-offset-2"),s(2),l("formGroup",e.form),s(),l("gridClass","col-sm-12")("title","select_vehicle"),s(),l("data",(i=g(8,18,e.vehicle$))!=null&&i.length?g(9,20,e.vehicle$):X(24,rt))("placeholder",g(10,22,"select_vehicle")),s(4),l("gridClass","col-sm-12")("title","trips"),s(),l("hasPermission","vehicle.create"),s(),l("dateRange",!0)("tableConfig",e.tableConfig)}},dependencies:[U,Se,Me,Pe,Fe,Oe,Le,Qe,$e,Be,ye,z]});var I=V;v([N(H.users)],I.prototype,"users$",void 0);v([N(b.trip)],I.prototype,"trip$",void 0);v([N(q.vehicles)],I.prototype,"vehicle$",void 0);v([N(Ae.getRoleName)],I.prototype,"roleName$",void 0);var Mt=[{path:"",component:I,canActivate:[We],data:{permission:"trip.index"}}],st=(()=>{let t=class t{};t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=$({type:t}),t.\u0275inj=B({imports:[Z.forChild(Mt),Z]});let a=t;return a})();var Di=(()=>{let t=class t{};t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=$({type:t}),t.\u0275inj=B({imports:[be,st,Ze,ze,Te.forFeature([H,b,q]),tt]});let a=t;return a})();export{Di as TripModule};
