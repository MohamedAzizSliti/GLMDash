import{a as y}from"./chunk-GF7UNAXA.js";import{Fa as j,a as h,k as v,m as b,n as S,p as d}from"./chunk-X2K52VJG.js";import{$ as i,Bc as u,S as f,Y as c,h as a}from"./chunk-V4SAOAZP.js";var I=(()=>{let t=class t{constructor(e){this.http=e}getBrands(e){return this.http.get(`${h.URL}/brand`)}};t.\u0275fac=function(l){return new(l||t)(i(u))},t.\u0275prov=c({token:t,factory:t.\u0275fac,providedIn:"root"});let o=t;return o})();var n,m=(n=class{constructor(t,r,e){this.store=t,this.notificationService=r,this.brandService=e}static store(t){return t.brand}static brands(t){return t.brand.data.map(r=>({label:r?.name,value:r?.id}))}static selectedStore(t){return t.selectedBrand}getBrands(t,r){return this.brandService.getBrands(null).pipe(f({next:e=>{t.patchState({brand:{data:e.data,total:e?.total?e?.total:e.data?.length}})},error:e=>{throw new Error(e?.error?.message)}}))}},n.\u0275fac=function(r){return new(r||n)(i(v),i(j),i(I))},n.\u0275prov=c({token:n,factory:n.\u0275fac}),n);a([b(y)],m.prototype,"getBrands",null);a([d()],m,"store",null);a([d()],m,"brands",null);a([d()],m,"selectedStore",null);m=a([S({name:"brand",defaults:{brand:{data:[],total:0},selectedBrand:null}})],m);var w=(()=>{let t=class t{constructor(e){this.http=e}getModels(){return this.http.get(`${h.URL}/models`)}};t.\u0275fac=function(l){return new(l||t)(i(u))},t.\u0275prov=c({token:t,factory:t.\u0275fac,providedIn:"root"});let o=t;return o})();var x=(()=>{let t=class t{constructor(e){this.brand_id=e}};t.type="[Model] Get";let o=t;return o})();var s,p=(s=class{constructor(t){this.modelService=t}static state(t){return t.model}static models(t){return r=>r?(console.log("/***** The Value state.model.data ****/"),console.log(t.model.data),t.model.data.filter(e=>e.brand_id==r).map(e=>({label:e?.name,value:e?.id,brand_id:e?.brand_id}))):t.model.data.map(e=>({label:e?.name,value:e?.id,brand_id:e?.brand_id}))}getStates(t,r){return t.getState()?.model?.data?.length?!0:this.modelService.getModels().pipe(f({next:l=>{t.patchState({model:{data:l}})},error:l=>{throw new Error(l?.error?.message)}}))}},s.\u0275fac=function(r){return new(r||s)(i(w))},s.\u0275prov=c({token:s,factory:s.\u0275fac}),s);a([b(x)],p.prototype,"getStates",null);a([d()],p,"state",null);a([d()],p,"models",null);p=a([S({name:"model",defaults:{model:{data:[]}}})],p);export{m as a,x as b,w as c,p as d};
