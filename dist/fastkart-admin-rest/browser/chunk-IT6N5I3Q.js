import{b as G}from"./chunk-WMGCKGTL.js";import{b as Ce}from"./chunk-YPFIT54E.js";import{a as xe}from"./chunk-NEHVOI7D.js";import"./chunk-GF7UNAXA.js";import{a as be}from"./chunk-WW5G2KA2.js";import{a as Ie}from"./chunk-JHPC47PJ.js";import{A as ee,B as te,Dc as we,E as d,G as ie,Ga as j,H as re,L as ne,O as oe,T as ae,Ua as fe,fb as ve,k as J,lb as ye,o as F,oa as pe,pa as le,qa as me,ra as de,rb as he,s as K,sa as se,t as Q,ta as ce,u as X,ua as _e,x as Y,xb as ge,y as Z,z as f}from"./chunk-X2K52VJG.js";import{Ca as e,Da as k,Db as D,Eb as O,Fb as R,Ib as $,Nb as l,Ob as m,Qa as v,Rb as M,Sa as a,Sc as P,Vc as ue,Xa as U,Z as E,ab as o,bb as p,cb as _,da as L,ea as N,gb as B,h as q,jb as b,kb as g,kc as W,la as w,ma as x,nb as h,nc as z,o as V,ub as A,vc as H,wb as u,xb as I,yb as y}from"./chunk-V4SAOAZP.js";import"./chunk-CWTPBX7D.js";var Se=()=>[];function Fe(t,n){t&1&&(o(0,"div",24),u(1),l(2,"translate"),p()),t&2&&(e(),y(" ",m(2,1,"name_is_required")," "))}function Ee(t,n){t&1&&(o(0,"div",24),u(1),l(2,"translate"),p()),t&2&&(e(),y(" ",m(2,1,"email_is_required")," "))}function Ne(t,n){t&1&&(o(0,"div",24),u(1),l(2,"translate"),p()),t&2&&(e(),y(" ",m(2,1,"enter_valid_email")," "))}function Ae(t,n){if(t&1&&(o(0,"div",25)(1,"div",26),_(2,"div"),p(),o(3,"span",27),u(4),p()()),t&2){let s=n.data;e(2),U("iti-flag ",s==null?null:s.class,""),e(2),I(s.code)}}function Te(t,n){t&1&&(o(0,"div",24),u(1),l(2,"translate"),p()),t&2&&(e(),y(" ",m(2,1,"phone_number_is_required")," "))}function Ve(t,n){t&1&&(o(0,"div",24),u(1),l(2,"translate"),p()),t&2&&(e(),y(" ",m(2,1,"phone_number_is_invalid")," "))}function ke(t,n){if(t&1){let s=B();o(0,"form",14),b("ngSubmit",function(){w(s);let c=g();return x(c.profileFormSubmit())}),o(1,"div",15)(2,"app-form-fields",16)(3,"app-image-upload",17),l(4,"async"),b("selectedFiles",function(c){w(s);let r=g();return x(r.selectedFiles(c))}),p()(),o(5,"app-form-fields",16),l(6,"translate"),_(7,"input",18),l(8,"translate"),v(9,Fe,3,3,"div",19),p(),o(10,"app-form-fields",16),_(11,"input",20),l(12,"translate"),v(13,Ee,3,3,"div",19)(14,Ne,3,3,"div",19),p(),o(15,"app-form-fields",16)(16,"select2",21),l(17,"async"),b("update",function(c){w(s);let r=g();return x(r.selectCode(c))}),v(18,Ae,5,4,"ng-template",null,1,M),p(),_(20,"input",22),v(21,Te,3,3,"div",19)(22,Ve,3,3,"div",19),p()(),o(23,"app-button",23),u(24),l(25,"translate"),p()()}if(t&2){let s,i,c=A(19),r=g();a("formGroup",r.profileForm),e(2),a("label","avatar")("for","image")("required",!1),e(),a("multipleImage",!1)("image",(s=m(4,28,r.user$))==null?null:s.profile_image)("helpText","*Upload image size 100x100px recommended"),e(2),a("label",m(6,30,"name"))("for","name")("required",!0),e(2),h("placeholder",m(8,32,"enter_full_name")),e(2),a("ngIf",r.profileForm.controls.name.touched&&(r.profileForm.controls.name.errors==null?null:r.profileForm.controls.name.errors.required)),e(),a("label","email")("for","email")("required",!0),e(),h("placeholder",m(12,34,"enter_email")),e(2),a("ngIf",r.profileForm.controls.email.touched&&(r.profileForm.controls.email.errors==null?null:r.profileForm.controls.email.errors.required)),e(),a("ngIf",r.profileForm.controls.email.touched&&(r.profileForm.controls.email.errors==null?null:r.profileForm.controls.email.errors.email)),e(),a("label","phone")("for","phone")("required",!0),e(),a("templates",c)("data",r.codes)("value",(i=m(17,36,r.user$))==null?null:i.country_code),e(5),a("ngIf",r.profileForm.controls.phone.touched&&(r.profileForm.controls.phone.errors==null?null:r.profileForm.controls.phone.errors.required)),e(),a("ngIf",r.profileForm.controls.phone.touched&&(r.profileForm.controls.phone.errors==null?null:r.profileForm.controls.phone.errors.pattern)),e(),a("id","profile_btn"),e(),I(m(25,38,"save"))}}function $e(t,n){t&1&&(o(0,"div",24),u(1),l(2,"translate"),p()),t&2&&(e(),y(" ",m(2,1,"store_name_is_required")," "))}function Me(t,n){t&1&&(o(0,"div",24),u(1),l(2,"translate"),p()),t&2&&(e(),y(" ",m(2,1,"description_is_required")," "))}function Pe(t,n){t&1&&(o(0,"div",24),u(1),l(2,"translate"),p()),t&2&&(e(),y(" ",m(2,1,"country_is_required")," "))}function je(t,n){t&1&&(o(0,"div",24),u(1),l(2,"translate"),p()),t&2&&(e(),y(" ",m(2,1,"state_is_required")," "))}function Ge(t,n){t&1&&(o(0,"div",24),u(1),l(2,"translate"),p()),t&2&&(e(),y(" ",m(2,1,"city_is_required")," "))}function Le(t,n){t&1&&(o(0,"div",24),u(1),l(2,"translate"),p()),t&2&&(e(),y(" ",m(2,1,"address_is_required")," "))}function Ue(t,n){t&1&&(o(0,"div",24),u(1),l(2,"translate"),p()),t&2&&(e(),y(" ",m(2,1,"pincode_is_required")," "))}function De(t,n){if(t&1){let s=B();o(0,"form",14),b("ngSubmit",function(){w(s);let c=g(2);return x(c.updateStore())}),o(1,"div",15)(2,"app-form-fields",16),l(3,"translate"),o(4,"app-image-upload",29),l(5,"async"),b("selectedFiles",function(c){w(s);let r=g(2);return x(r.selectStoreLogo(c))}),p()(),o(6,"app-form-fields",16),_(7,"input",30),l(8,"translate"),v(9,$e,3,3,"div",19),p(),o(10,"app-form-fields",16),_(11,"textarea",31),l(12,"translate"),v(13,Me,3,3,"div",19),p(),o(14,"app-form-fields",16)(15,"select2",32),l(16,"async"),l(17,"async"),l(18,"translate"),b("update",function(c){w(s);let r=g(2);return x(r.countryChange(c))}),p(),v(19,Pe,3,3,"div",19),p(),o(20,"app-form-fields",16),_(21,"select2",33),l(22,"async"),l(23,"async"),l(24,"translate"),v(25,je,3,3,"div",19),p(),o(26,"app-form-fields",16),_(27,"input",34),l(28,"translate"),v(29,Ge,3,3,"div",19),p(),o(30,"app-form-fields",16),_(31,"input",35),l(32,"translate"),v(33,Le,3,3,"div",19),p(),o(34,"app-form-fields",16),_(35,"input",36),l(36,"translate"),v(37,Ue,3,3,"div",19),p(),o(38,"app-form-fields",37),_(39,"input",38),l(40,"translate"),p(),o(41,"app-form-fields",37),_(42,"input",39),l(43,"translate"),p(),o(44,"app-form-fields",37),_(45,"input",40),l(46,"translate"),p(),o(47,"app-form-fields",37),_(48,"input",41),l(49,"translate"),p(),o(50,"app-form-fields",37),_(51,"input",42),l(52,"translate"),p(),o(53,"app-form-fields",16),l(54,"translate"),o(55,"div",43)(56,"label",44),_(57,"input",45)(58,"span",46),p()()(),o(59,"app-form-fields",16),l(60,"translate"),o(61,"div",43)(62,"label",44),_(63,"input",47)(64,"span",46),p()()()(),o(65,"app-button",23),u(66),l(67,"translate"),p()()}if(t&2){let s,i,c,r=g(2);a("formGroup",r.form),e(2),a("label",m(3,66,"store_logo"))("for","logo")("required",!1),e(2),a("multipleImage",!1)("image",(s=m(5,68,r.user$))==null||s.store==null?null:s.store.store_logo),e(2),a("label","store_name")("for","store_name")("required",!0),e(),h("placeholder",m(8,70,"enter_store_name")),e(2),a("ngIf",(r.form==null?null:r.form.controls.store_name.touched)&&(r.form.controls.store_name.errors==null?null:r.form.controls.store_name.errors.required)),e(),a("label","store_description")("for","description")("required",!0),e(),h("placeholder",m(12,72,"enter_description")),e(2),a("ngIf",r.form.controls.description.touched&&(r.form.controls.description.errors==null?null:r.form.controls.description.errors.required)),e(),a("label","country")("for","country")("required",!0),e(),a("data",(i=m(16,74,r.countries$))!=null&&i.length?m(17,76,r.countries$):$(108,Se))("placeholder",m(18,78,"select_country")),e(4),a("ngIf",(r.form==null||r.form.controls.country_id==null?null:r.form.controls.country_id.touched)&&(r.form==null||r.form.controls.country_id==null||r.form.controls.country_id.errors==null?null:r.form.controls.country_id.errors.required)),e(),a("label","state")("for","state")("required",!0),e(),a("data",(c=m(22,80,r.states$))!=null&&c.length?m(23,82,r.states$):$(109,Se))("placeholder",m(24,84,"select_state")),e(4),a("ngIf",(r.form==null?null:r.form.controls.state_id.touched)&&(r.form==null||r.form.controls.state_id.errors==null?null:r.form.controls.state_id.errors.required)),e(),a("label","city")("for","city")("required",!0),e(),h("placeholder",m(28,86,"enter_city_name")),e(2),a("ngIf",r.form.controls.city.touched&&(r.form.controls.city.errors==null?null:r.form.controls.city.errors.required)),e(),a("label","address")("for","address")("required",!0),e(),h("placeholder",m(32,88,"enter_store_address")),e(2),a("ngIf",r.form.controls.address.touched&&(r.form.controls.address.errors==null?null:r.form.controls.address.errors.required)),e(),a("label","pincode")("for","pincode")("required",!0),e(),h("placeholder",m(36,90,"enter_pincode")),e(2),a("ngIf",r.form.controls.pincode.touched&&(r.form.controls.pincode.errors==null?null:r.form.controls.pincode.errors.required)),e(),a("label","faceBook")("for","facebook"),e(),h("placeholder",m(40,92,"enter_url")),e(2),a("label","instagram")("for","instagram"),e(),h("placeholder",m(43,94,"enter_url")),e(2),a("label","twitter")("for","Twitter"),e(),h("placeholder",m(46,96,"enter_url")),e(2),a("label","youtube")("for","youtube"),e(),h("placeholder",m(49,98,"enter_url")),e(2),a("label","pinterest")("for","pinterest"),e(),h("placeholder",m(52,100,"enter_url")),e(2),a("label",m(54,102,"hide_email"))("for","hide_vendor_email")("required",!1),e(6),a("label",m(60,104,"hide_phone"))("for","hide_vendor_phone")("required",!1),e(6),a("id","store_setting_btn"),e(),I(m(67,106,"save"))}}function Oe(t,n){t&1&&(o(0,"li",28)(1,"a",7),_(2,"i",8),u(3),l(4,"translate"),p(),v(5,De,68,110,"ng-template",9),p()),t&2&&(e(3),I(m(4,1,"store_setting")))}function Re(t,n){t&1&&(o(0,"div",24),u(1),l(2,"translate"),p()),t&2&&(e(),y(" ",m(2,1,"current_password_is_required")," "))}function We(t,n){t&1&&(o(0,"div",24),u(1),l(2,"translate"),p()),t&2&&(e(),y(" ",m(2,1,"new_password_is_required")," "))}function ze(t,n){t&1&&(o(0,"div",24),u(1),l(2,"translate"),p()),t&2&&(e(),y(" ",m(2,1,"confirm_password_is_required")," "))}function He(t,n){t&1&&(o(0,"div",24),u(1),l(2,"translate"),p()),t&2&&(e(),y(" ",m(2,1,"confirm_password_does_not_matched")," "))}function Je(t,n){if(t&1&&v(0,He,3,3,"div",19),t&2){let s=g(2);a("ngIf",s.passwordMatchError)}}function Ke(t,n){if(t&1){let s=B();o(0,"form",14),b("ngSubmit",function(){w(s);let c=g();return x(c.passwordFormSubmit())}),o(1,"div",15)(2,"app-form-fields",16),_(3,"input",48),l(4,"translate"),v(5,Re,3,3,"div",19),p(),o(6,"app-form-fields",16),_(7,"input",49),l(8,"translate"),v(9,We,3,3,"div",19),p(),o(10,"app-form-fields",16),_(11,"input",50),l(12,"translate"),v(13,ze,3,3,"div",51)(14,Je,1,1,"ng-template",null,2,M),p()(),o(16,"app-button",23),u(17),l(18,"translate"),p()()}if(t&2){let s=A(15),i=g();a("formGroup",i.passwordForm),e(2),a("label","current_password")("for","current_password")("required",!0),e(),h("placeholder",m(4,19,"enter_current_password")),e(2),a("ngIf",i.passwordForm.controls.current_password.touched&&(i.passwordForm.controls.current_password.errors==null?null:i.passwordForm.controls.current_password.errors.required)),e(),a("label","new_password")("for","new_password")("required",!0),e(),h("placeholder",m(8,21,"enter_new_password")),e(2),a("ngIf",i.passwordForm.controls.password.touched&&(i.passwordForm.controls.password.errors==null?null:i.passwordForm.controls.password.errors.required)),e(),a("label","confirm_password")("for","confirm_password")("required",!0),e(),h("placeholder",m(12,23,"enter_confirm_password")),e(2),a("ngIf",i.passwordForm.controls.password_confirmation.touched&&(i.passwordForm.controls.password_confirmation.errors==null?null:i.passwordForm.controls.password_confirmation.errors.required))("ngIfElse",s),e(3),a("id","password_btn"),e(),I(m(18,25,"save"))}}var S=class S{constructor(n,s){this.store=n,this.formBuilder=s,this.active="profile",this.codes=Ie,this.flicker=!1,this.user$.subscribe(i=>{this.profileForm=this.formBuilder.group({name:new d(i?.name,[f.required]),email:new d(i?.email,[f.required,f.email]),phone:new d(i?.phone,[f.required,f.pattern(/^[0-9]*$/)]),country_code:new d(i?.country_code,[f.required]),profile_image_id:new d(i?.profile_image_id)}),this.flicker=!0,i?.store&&(this.form=this.formBuilder.group({store_name:new d(i.store.store_name,[f.required]),description:new d(i.store.description,[f.required]),country_id:new d(i.store?.country_id,[f.required]),state_id:new d(i?.store?.state_id,[f.required]),city:new d(i?.store?.city,[f.required]),address:new d(i?.store?.address,[f.required]),pincode:new d(i?.store?.pincode,[f.required]),store_logo_id:new d(i?.store?.store_logo_id),hide_vendor_email:new d(i?.store?.hide_vendor_email),hide_vendor_phone:new d(i?.store?.hide_vendor_phone),facebook:new d(i?.store?.facebook),instagram:new d(i?.store?.instagram),pinterest:new d(i?.store?.pinterest),youtube:new d(i?.store?.youtube),twitter:new d(i?.store?.twitter)})),i?.company&&(this.form=this.formBuilder.group({store_name:new d(i.company.company_name,[f.required]),description:new d(i.company.description,[f.required]),country_id:new d(i.company?.country_id,[f.required]),state_id:new d(i?.company?.state_id,[f.required]),city:new d(i?.company?.city,[f.required]),address:new d(i?.company?.address,[f.required]),pincode:new d(i?.company?.pincode,[f.required]),store_logo_id:new d(i?.company?.company_logo_id),hide_vendor_email:new d(i?.company?.hide_client_email),hide_vendor_phone:new d(i?.company?.hide_client_phone),facebook:new d(i?.company?.facebook),instagram:new d(i?.company?.instagram),pinterest:new d(i?.company?.pinterest),youtube:new d(i?.company?.youtube),twitter:new d(i?.company?.twitter)})),setTimeout(()=>this.flicker=!1,200)}),this.passwordForm=this.formBuilder.group({current_password:new d("",[f.required]),password:new d("",[f.required]),password_confirmation:new d("",[f.required])},{validator:be.MatchValidator("password","password_confirmation")})}ngOnInit(){this.states$=this.store.select(G.states).pipe(V(n=>n(null)))}countryChange(n){n&&n?.value?(this.states$=this.store.select(G.states).pipe(V(s=>s(+n?.value))),n.component.focused&&this.form.controls.state_id.setValue("")):this.form.controls.state_id.setValue("")}get passwordMatchError(){return this.passwordForm?.getError("mismatch")&&this.passwordForm?.get("password_confirmation")?.touched}selectCode(n){this.profileForm.controls.country_code.setValue(n?.value)}selectedFiles(n){Array.isArray(n)||this.profileForm.controls.profile_image_id.setValue(n?n.id:"")}profileFormSubmit(){this.profileForm.markAllAsTouched(),this.profileForm.valid&&this.store.dispatch(new K(this.profileForm.value))}passwordFormSubmit(){this.passwordForm.markAllAsTouched(),this.passwordForm.valid&&(this.store.dispatch(new Q(this.passwordForm.value)),this.passwordForm.reset())}selectStoreLogo(n){Array.isArray(n)||this.form.controls.store_logo_id.setValue(n?n.id:"")}updateStore(){this.store.dispatch(new X(this.form.value))}};S.\u0275fac=function(s){return new(s||S)(k(J),k(ae))},S.\u0275cmp=L({type:S,selectors:[["app-account"]],decls:20,vars:14,consts:[["nav","ngbNav"],["template",""],["error",""],[3,"title"],[1,"inside-horizontal-tabs","mt-0"],["ngbNav","",1,"nav-tabs",3,"activeIdChange","activeId"],["ngbNavItem","profile"],["ngbNavLink",""],[1,"ri-account-pin-box-line"],["ngbNavContent",""],["ngbNavItem","vendor-setting",4,"ngIf"],["ngbNavItem","password"],[1,"ri-phone-lock-line"],[1,"mt-3",3,"ngbNavOutlet"],[1,"theme-form","theme-form-2","mega-form",3,"ngSubmit","formGroup"],[1,"row"],[3,"label","for","required"],[3,"selectedFiles","multipleImage","image","helpText"],["type","text","name","name","formControlName","name",1,"form-control",3,"placeholder"],["class","invalid-feedback",4,"ngIf"],["type","email","name","email","formControlName","email",1,"form-control",3,"placeholder"],[1,"custom-select","intl-tel-input",3,"update","templates","data","value"],["type","number","formControlName","phone","placeholder","Enter Phone","name","phone",1,"form-control","intl-input-padding"],[3,"id"],[1,"invalid-feedback"],[1,"country"],[1,"flag-box"],[1,"dial-code"],["ngbNavItem","vendor-setting"],[3,"selectedFiles","multipleImage","image"],["type","text","formControlName","store_name",1,"form-control",3,"placeholder"],["formControlName","description","rows","3",1,"form-control",3,"placeholder"],["formControlName","country_id","resettable","",1,"custom-select",3,"update","data","placeholder"],["formControlName","state_id","resettable","",1,"custom-select",3,"data","placeholder"],["type","text","name","city","formControlName","city",1,"form-control",3,"placeholder"],["type","text","name","address","formControlName","address",1,"form-control",3,"placeholder"],["type","number","name","pincode","formControlName","pincode",1,"form-control",3,"placeholder"],[3,"label","for"],["type","url","formControlName","facebook",1,"form-control",3,"placeholder"],["type","url","formControlName","instagram",1,"form-control",3,"placeholder"],["type","url","formControlName","twitter",1,"form-control",3,"placeholder"],["type","url","formControlName","youtube",1,"form-control",3,"placeholder"],["type","url","formControlName","pinterest",1,"form-control",3,"placeholder"],[1,"form-check","form-switch","ps-0"],[1,"switch"],["type","checkbox","id","hide_vendor_email","formControlName","hide_vendor_email"],[1,"switch-state"],["type","checkbox","id","hide_vendor_phone","formControlName","hide_vendor_phone"],["type","password","name","current_password","formControlName","current_password",1,"form-control",3,"placeholder"],["type","password","name","password","formControlName","password",1,"form-control",3,"placeholder"],["type","password","name","password_confirmation","formControlName","password_confirmation",1,"form-control",3,"placeholder"],["class","invalid-feedback",4,"ngIf","ngIfElse"]],template:function(s,i){if(s&1){let c=B();o(0,"app-page-wrapper",3)(1,"div",4)(2,"ul",5,0),R("activeIdChange",function(T){return w(c),O(i.active,T)||(i.active=T),x(T)}),o(4,"li",6)(5,"a",7),_(6,"i",8),u(7),l(8,"translate"),p(),v(9,ke,26,40,"ng-template",9),p(),v(10,Oe,6,3,"li",10),l(11,"async"),l(12,"async"),o(13,"li",11)(14,"a",7),_(15,"i",12),u(16),l(17,"translate"),p(),v(18,Ke,19,27,"ng-template",9),p()(),_(19,"div",13),p()()}if(s&2){let c=A(3);a("title","my_account"),e(2),D("activeId",i.active),e(5),I(m(8,6,"profile_setting")),e(3),a("ngIf",(m(11,8,i.roleName$)==="vendor"||m(12,10,i.roleName$)==="consumer")&&!i.flicker),e(6),y(" ",m(17,12,"change_password"),""),e(3),a("ngbNavOutlet",c)}},dependencies:[W,pe,de,me,le,ce,se,_e,ie,Z,re,Y,ee,te,ne,oe,ve,he,ge,ye,fe,z,ue]});var C=S;q([F(j.user)],C.prototype,"user$",void 0);q([F(xe.selectedStore)],C.prototype,"store$",void 0);q([F(Ce.countries)],C.prototype,"countries$",void 0);q([F(j.getRoleName)],C.prototype,"roleName$",void 0);var Qe=[{path:"",component:C}],Be=(()=>{let n=class n{};n.\u0275fac=function(c){return new(c||n)},n.\u0275mod=N({type:n}),n.\u0275inj=E({imports:[P.forChild(Qe),P]});let t=n;return t})();var Bt=(()=>{let n=class n{};n.\u0275fac=function(c){return new(c||n)},n.\u0275mod=N({type:n}),n.\u0275inj=E({imports:[H,Be,we]});let t=n;return t})();export{Bt as AccountModule};
