import{a as ot,b as rt}from"./chunk-M2LWZKN4.js";import{a as Je}from"./chunk-SYLZCP4O.js";import{a as Xe,b as Ze,c as et,d as tt,f as it}from"./chunk-IJGVJEQP.js";import{a as fe,m as oe}from"./chunk-O55BQOZL.js";import{a as ie}from"./chunk-ISOQKGNC.js";import{A as Fe,B as Oe,Bc as Ke,Dc as He,E as y,Fa as ze,G as Ve,L as Pe,O as $e,T as Le,Ua as Be,a as x,aa as me,ab as Ue,ba as je,ca as Re,fb as qe,k as N,l as Te,lb as F,m as I,n as De,o as Z,p as ee,qb as We,rb as Qe,x as Ee,y as ke,yb as Ye,z as Ne}from"./chunk-X2K52VJG.js";import{$ as T,Bc as Ie,C as ye,Ca as a,Da as u,Ia as Ce,Ib as k,Kb as we,Nb as h,Nc as Me,Ob as g,P as ve,Pc as X,Q as be,Qa as D,Qc as Ae,S as C,Sa as n,Sc as de,Vc as te,Y as W,Z as Q,ab as l,bb as p,bc as _e,c as ce,cb as d,da as w,ea as Y,gb as K,h as f,j as he,jb as E,kb as H,kc as Ge,la as _,ma as G,nb as pe,nc as Se,q as ge,rb as R,sb as z,tb as B,vc as xe,wb as S,xb as J,yb as U}from"./chunk-V4SAOAZP.js";import{a as L,b as j,f as ue}from"./chunk-CWTPBX7D.js";var O=(()=>{let e=class e{constructor(t){this.payload=t}};e.type="[Geofence] Get";let r=e;return r})(),re=(()=>{let e=class e{constructor(t){this.payload=t}};e.type="[Geofence] Create";let r=e;return r})(),ae=(()=>{let e=class e{constructor(t){this.id=t}};e.type="[Geofence] Edit";let r=e;return r})(),ne=(()=>{let e=class e{constructor(t,o){this.payload=t,this.id=o}};e.type="[Geofence] Update";let r=e;return r})(),at=(()=>{let e=class e{constructor(t,o){this.id=t,this.status=o}};e.type="[Geofence] Update Status";let r=e;return r})(),se=(()=>{let e=class e{constructor(t){this.id=t}};e.type="[Geofence] Delete";let r=e;return r})(),le=(()=>{let e=class e{constructor(t){this.ids=t}};e.type="[Geofence] Delete All";let r=e;return r})();var nt=(()=>{let e=class e{constructor(t){this.http=t}getGeofencees(t){return this.http.get(`${x.URL}/traccar/geofences`,{params:t})}createGeofence(t){return this.http.post(`${x.URL}/traccar/geofence`,t)}editGeofence(t){return this.http.get(`${x.URL}/traccar/geofences/${t}`)}updateGeofence(t,o){return this.http.put(`${x.URL}/traccar/geofence/${t}`,o)}updateGeofenceStatus(t,o){return this.http.put(`${x.URL}/traccar/geofence/${t}/${o}`,{})}deleteGeofence(t){return this.http.delete(`${x.URL}/traccar/geofence/${t}`)}deleteAllGeofence(t){return this.http.post(`${x.URL}/traccar/geofence/deleteAll`,{ids:t})}};e.\u0275fac=function(o){return new(o||e)(T(Ie))},e.\u0275prov=W({token:e,factory:e.\u0275fac,providedIn:"root"});let r=e;return r})();var v,m=(v=class{constructor(e,i,t){this.store=e,this.notificationService=i,this.geofenceService=t}static geofence(e){return e.geofence}static geofencees(e){return e.geofence.data.map(i=>({label:i?.name,value:i?.id}))}static selectedGeofence(e){return e.selectedGeofence}getGeofencees(e,i){return this.geofenceService.getGeofencees(i.payload).pipe(C({next:t=>{e.patchState({geofence:{data:t.data,total:t?.total?t?.total:t.data?.length}})},error:t=>{throw new Error(t?.error?.message)}}))}create(e,i){return this.geofenceService.createGeofence(i.payload).pipe(C({next:t=>{let o=e.getState();e.patchState(j(L({},o),{geofence:{data:[...o.geofence.data,t],total:o?.geofence.total+1}}))},complete:()=>{this.notificationService.showSuccess("Geofence Created Successfully")},error:t=>{throw new Error(t?.error?.message)}}))}edit(e,{id:i}){return this.geofenceService.editGeofence(i).pipe(C({next:t=>{let o=e.getState();e.patchState(j(L({},o),{selectedGeofence:t}))},error:t=>{throw new Error(t?.error?.message)}}))}update(e,{payload:i,id:t}){return this.geofenceService.updateGeofence(t,i).pipe(C({next:o=>{if(typeof o=="object"){let s=e.getState(),c=[...s.geofence.data],b=c.findIndex($=>$.id===t);c[b]=o,e.patchState(j(L({},s),{geofence:{data:c,total:s.geofence.total}}))}},complete:()=>{this.notificationService.showSuccess("Geofence Updated Successfully")},error:o=>{throw new Error(o?.error?.message)}}))}updateStatus(e,{id:i,status:t}){return this.geofenceService.updateGeofenceStatus(i,t).pipe(C({next:o=>{if(typeof o=="object"){let s=e.getState(),c=[...s.geofence.data],b=c.findIndex($=>$.id===i);c[b]=o,e.patchState(j(L({},s),{geofence:{data:c,total:s.geofence.total}}))}},complete:()=>{this.notificationService.showSuccess("Geofence Status Updated Successfully")},error:o=>{throw new Error(o?.error?.message)}}))}delete(e,{id:i}){return this.geofenceService.deleteGeofence(i).pipe(C({next:()=>{this.store.dispatch(new O({page:1,paginate:15}))},complete:()=>{this.notificationService.showSuccess("Geofence Deleted Successfully")},error:t=>{throw new Error(t?.error?.message)}}))}deleteAll(e,{ids:i}){return this.geofenceService.deleteAllGeofence(i).pipe(C({next:()=>{this.store.dispatch(new O({page:1,paginate:15}))},complete:()=>{this.notificationService.showSuccess("Geofence Deleted Successfully")},error:t=>{throw new Error(t?.error?.message)}}))}},v.\u0275fac=function(i){return new(i||v)(T(N),T(ze),T(nt))},v.\u0275prov=W({token:v,factory:v.\u0275fac}),v);f([I(O)],m.prototype,"getGeofencees",null);f([I(re)],m.prototype,"create",null);f([I(ae)],m.prototype,"edit",null);f([I(ne)],m.prototype,"update",null);f([I(at)],m.prototype,"updateStatus",null);f([I(se)],m.prototype,"delete",null);f([I(le)],m.prototype,"deleteAll",null);f([ee()],m,"geofence",null);f([ee()],m,"geofencees",null);f([ee()],m,"selectedGeofence",null);m=f([De({name:"geofence",defaults:{geofence:{data:[],total:0},selectedGeofence:null}})],m);var Ct=["csvModal"],wt=()=>["/geofence/create"];function _t(r,e){r&1&&(l(0,"div",5)(1,"a",6),d(2,"i",7),S(3),h(4,"translate"),p()()),r&2&&(a(),n("routerLink",k(4,wt)),a(2),U(" ",g(4,2,"add_geofence")," "))}var V=class V{constructor(e,i){this.store=e,this.router=i,this.tableConfig={columns:[{title:"No.",dataField:"id",type:"no"},{title:"Name",dataField:"name",sortable:!0,sort_direction:"desc"},{title:"Date",dataField:"date",type:"date",sortable:!0,sort_direction:"desc"},{title:"Description",dataField:"description",sortable:!0,sort_direction:"desc"},{title:"Vehicle",dataField:"car.title",sortable:!0,sort_direction:"desc"},{title:"Is Visible",dataField:"attributes.show",sortable:!0,sort_direction:"desc"},{title:"User",dataField:"user.name",sortable:!0,sort_direction:"desc"},{title:"Area",dataField:"area",sortable:!0,sort_direction:"desc"}],rowActions:[{label:"Edit",actionToPerform:"edit",icon:"ri-pencil-line",permission:"geofence.edit"},{label:"Delete",actionToPerform:"delete",icon:"ri-delete-bin-line",permission:"geofence.destroy"}],data:[],total:0}}ngOnInit(){this.geofence$.subscribe(e=>{this.tableConfig.data=e?e?.data:[],this.tableConfig.total=e?e?.total:0})}onTableChange(e){this.store.dispatch(new O(e))}onActionClicked(e){e.actionToPerform=="edit"?this.edit(e.data):e.actionToPerform=="delete"?this.delete(e.data):e.actionToPerform=="deleteAll"&&this.deleteAll(e.data)}edit(e){this.router.navigateByUrl(`/geofence/edit/${e.id}`)}delete(e){this.store.dispatch(new se(e.id))}deleteAll(e){this.store.dispatch(new le(e))}export(){}};V.\u0275fac=function(i){return new(i||V)(u(N),u(X))},V.\u0275cmp=w({type:V,selectors:[["app-geofence"]],viewQuery:function(i,t){if(i&1&&R(Ct,5),i&2){let o;z(o=B())&&(t.CSVModal=o.first)}},decls:5,vars:6,consts:[["csvModal",""],[3,"gridClass","title"],["class","d-flex flex-wrap gap-2","button","",4,"hasPermission"],[3,"tableChanged","rowClicked","action","tableConfig","hasCheckbox"],[3,"module"],["button","",1,"d-flex","flex-wrap","gap-2"],[1,"align-items-center","btn","btn-theme","d-flex",3,"routerLink"],[1,"ri-add-line"]],template:function(i,t){if(i&1){let o=K();l(0,"app-page-wrapper",1),D(1,_t,5,5,"div",2),l(2,"app-table",3),E("tableChanged",function(c){return _(o),G(t.onTableChange(c))})("rowClicked",function(c){return _(o),G(t.edit(c))})("action",function(c){return _(o),G(t.onActionClicked(c))}),p()(),d(3,"app-import-csv-modal",4,0)}i&2&&(n("gridClass","col-sm-12")("title","geofence"),a(),n("hasPermission","vehicle.create"),a(),n("tableConfig",t.tableConfig)("hasCheckbox",!0),a(),n("module","attribute"))},dependencies:[Ae,We,F,Ke,Ue,te]});var q=V;f([Z(m.geofence)],q.prototype,"geofence$",void 0);var Gt=["googleMap"],St=["adresseInput"],xt=()=>[],It=()=>({id:1,value:"alerter",name:"Alerter"}),Mt=()=>({id:2,value:"coupe_moteur",name:"Couper Moteur"}),At=(r,e)=>[r,e];function Tt(r,e){r&1&&(l(0,"div",23),S(1),h(2,"translate"),p()),r&2&&(a(),U(" ",g(2,1,"name_is_required")," "))}function Dt(r,e){if(r&1&&d(0,"map-polygon",28),r&2){let i=H(2);n("paths",i.polygon.paths)("options",i.polygon.options)}}function Et(r,e){if(r&1&&d(0,"map-circle",29),r&2){let i=H(2);n("center",i.circle.center)("radius",i.circle.radius)("options",i.circle.options)}}function kt(r,e){if(r&1&&(l(0,"google-map",24,1),d(2,"map-marker",25),D(3,Dt,1,2,"map-polygon",26)(4,Et,1,3,"map-circle",27),p()),r&2){let i=H();n("center",i.center)("zoom",i.zoom)("options",i.options),a(2),n("position",i.center),a(),n("ngIf",i.polygon),a(),n("ngIf",i.circle)}}var P=class P{constructor(e,i,t,o,s,c,b,$,ft,ut,ht){this.store=e,this.route=i,this.router=t,this.renderer=o,this.calendar=s,this.globalService=c,this.googleMapsService=b,this.gmaps=$,this.formatter=ft,this.formBuilder=ut,this.document=ht,this.latitude=36.8065,this.longitude=10.1815,this.geocoder=new google.maps.Geocoder,this.selectedActions=[1],this.center={lat:36.8065,lng:10.1815},this.zoom=12,this.search=new ce,this.documents=[{value:"",hex_color:"",id:""}],this.visible=!1,this.dataAreaGeofence=null,this.destroy$=new ce,this.variantStyle=[{value:"rectangle",label:"Rectangle"},{value:"circle",label:"Circle"},{value:"radio",label:"Radio"},{value:"dropdown",label:"Dropdown"},{value:"image",label:"Image"},{value:"color",label:"Color"}],this.firstCall=!1,this.lastTrip={},this.options={mapTypeId:"roadmap",disableDefaultUI:!1},this.selectedShape=null,this.form=this.formBuilder.group({name:new y("",[Ne.required]),kilometre:new y("",[]),date:new y(""),adresse:new y(""),vehicle_id:new y({value:null,disabled:!0}),area:new y(""),selected_vehicles:new y,isGlobal:new y(!0),zoom_in:new y(!1),actions:new y(!1),isVisible:new y(!0)}),this.form.get("isGlobal")?.valueChanges.subscribe(gt=>{gt?(this.form.get("vehicle_id")?.setValue(null),this.form.get("vehicle_id")?.disable()):this.form.get("vehicle_id")?.enable()})}ngAfterViewChecked(){this.map&&this.map.googleMap&&(this.firstCall||this.onMapReady(this.map.googleMap))}get valueControl(){return this.form.get("value")}ngOnInit(){this.loadMap(),navigator.permissions.query({name:"geolocation"}).then(e=>{e.state==="denied"&&alert("La g\xE9olocalisation est d\xE9sactiv\xE9e. Veuillez l\u2019activer pour utiliser cette fonctionnalit\xE9.")}),this.store.dispatch(new fe({status:1})),this.route.params.pipe(ve(e=>e.id?this.store.dispatch(new ae(e.id)).pipe(ge(()=>this.store.select(m.selectedGeofence))):he()),be(this.destroy$)).subscribe(e=>{if(this.id=e?.id,this.form.patchValue({name:e?.data.name,isVisible:e?.data.attributes.show!=!1,zoom_in:e?.data.attributes.zoom_in!=!1,kilometre:e?.data.area}),this.selectedActions=e?.data.attributes.actions?.split(",").map(Number),e?.data.area.startsWith("POLYGON")&&(this.polygon={paths:this.globalService.parsePolygonArea(e.data.area),options:{fillColor:"blue",fillOpacity:.2,strokeColor:"blue",strokeOpacity:.5,strokeWeight:2}}),e?.data.area.startsWith("CIRCLE")){let i=this.globalService.parseCircleArea(e.data.area);this.circle={center:{lat:48.8566,lng:2.3522},radius:i.radius,options:{fillColor:"red",fillOpacity:.2,strokeColor:"red",strokeOpacity:.5,strokeWeight:2}},this.center=i.center}setTimeout(()=>this.fitMapToGeofences(!!e?.data.area.startsWith("CIRCLE")),100)}),this.search.pipe(ye(300)).subscribe(e=>{this.store.dispatch(new fe({status:1,is_approved:1,paginate:15,search:e})),this.renderer.addClass(this.document.body,"loader-none")})}fitMapToGeofences(e=!1){let i=new google.maps.LatLngBounds;e?(i.extend(this.circle.center),this.zoom=15):this.polygon.paths.forEach(t=>i.extend(t)),this.map.fitBounds(i)}ngAfterViewInit(){}initializeAutocomplete(){let e=document.getElementById("address");this.autocomplete=new google.maps.places.Autocomplete(e),this.autocomplete.addListener("place_changed",()=>{let i=this.autocomplete.getPlace();i.geometry&&(this.latitude=i.geometry.location.lat(),this.longitude=i.geometry.location.lng(),this.center={lat:this.latitude,lng:this.longitude},this.zoom=17)})}loadMap(){return ue(this,null,function*(){let e=this,i=yield this.gmaps.loadGoogleMap();this.googleMaps=i,this.drawingManager=new google.maps.drawing.DrawingManager({drawingMode:google.maps.drawing.OverlayType.POLYGON,drawingControl:!0,drawingControlOptions:{position:google.maps.ControlPosition.TOP_CENTER,drawingModes:[google.maps.drawing.OverlayType.POLYGON,google.maps.drawing.OverlayType.CIRCLE]},polygonOptions:{editable:!0,draggable:!0,fillColor:"#ffff00",fillOpacity:.5,strokeWeight:2,clickable:!1,zIndex:1},circleOptions:{editable:!0,draggable:!0,fillColor:"#ffff00",fillOpacity:.5,strokeWeight:2,clickable:!1,zIndex:1}}),this.visible=!0,this.initializeAutocomplete()})}submit(){this.form.markAllAsTouched(),this.form.controls.area?.setValue(this.createAreaGeofence());let e=new re(this.form.value);this.type=="edit"&&this.id&&(e=new ne(this.form.value,this.id)),this.form.valid&&this.store.dispatch(e).subscribe({complete:()=>{this.router.navigateByUrl("/geofence")}})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}onDateSelection(e){this.fromDate=e,this.fromDate&&this.form.controls.date.setValue(`${this.fromDate.year}-${this.fromDate.month}-${this.fromDate.day}`)}validateInput(e,i){let t=this.formatter.parse(i);return t&&this.calendar.isValid(me.from(t))?me.from(t):e}productDropdown(e){e.innerSearchText&&this.search.next("")}searchProduct(e){this.search.next(e.search)}getCurrentLocation(){let e=this;navigator.geolocation?navigator.geolocation.getCurrentPosition(i=>{this.latitude=i.coords.latitude,this.longitude=i.coords.longitude,this.center={lat:this.latitude,lng:this.longitude},this.zoom=17;let t=this.latitude,o=this.longitude;this.geocoder.geocode({location:{lat:t,lng:o}},(s,c)=>{if(c==="OK"&&s[0]){let b=s[0].formatted_address;console.log("Adresse obtenue :",b),this.adresseInput.nativeElement.value=b}else console.error("Impossible de trouver une adresse :",c)})}):alert("La g\xE9olocalisation n\u2019est pas support\xE9e par ce navigateur.")}onMapReady(e){this.firstCall=!0,this.drawingManager.setMap(e),google.maps.event.addListener(this.drawingManager,"overlaycomplete",i=>{this.selectedShape&&this.selectedShape.setMap(null),this.selectedShape=i.overlay,this.drawingManager.setDrawingMode(null),i.type===google.maps.drawing.OverlayType.POLYGON?this.handlePolygon(i.overlay):i.type===google.maps.drawing.OverlayType.CIRCLE&&this.handleCircle(i.overlay)})}handlePolygon(e){let t=e.getPath().getArray().map(s=>({lat:s.lat(),lng:s.lng()})),o=google.maps.geometry.spherical.computeArea(e.getPath());console.log("Polygon Coordinates:",t),console.log("Area (m\xB2):",o),this.dataAreaGeofence={type:"POLYGON",coordinates:[t],area:o}}handleCircle(e){let i=e.getCenter(),t=e.getRadius();console.log("Circle Center:",i.toJSON()),console.log("Radius (m):",t),this.dataAreaGeofence={type:"CIRCLE",center:i.toJSON(),radius:t}}sendGeofenceToTraccar(e){console.log("Sending geofence to Traccar:",e)}createAreaGeofence(){if(this.dataAreaGeofence.type=="CIRCLE")return`${this.dataAreaGeofence.type} (${this.dataAreaGeofence.center.lat} ${this.dataAreaGeofence.center.lng}, ${this.dataAreaGeofence.radius})`;{let e=this.dataAreaGeofence.coordinates[0].map(i=>`${i.lat} ${i.lng}`).join(", ");return`${this.dataAreaGeofence.type} ((${e}))`}}selectMthodeNotif(e){console.log("/***** The Value data\xF9\xF9\xF9 ****/"),console.log(e),Array.isArray(e)&&this.form.controls.actions?.setValue(e)}parseWKTPolygon(e){return e.replace("POLYGON ((","").replace("))","").split(", ").map(o=>{let[s,c]=o.split(" ").map(Number);return{lat:c,lng:s}})}parseWKTCircle(e){let i=e.replace("CIRCLE (","").replace(")",""),[t,o]=i.split(", "),[s,c]=t.split(" ").map(Number);return{center:{lat:c,lng:s},radius:Number(o)}}};P.\u0275fac=function(i){return new(i||P)(u(N),u(Me),u(X),u(Ce),u(je),u(ot),u(rt),u(Je),u(Re),u(Le),u(_e))},P.\u0275cmp=w({type:P,selectors:[["app-form-geofence"]],viewQuery:function(i,t){if(i&1&&(R(Gt,5),R(St,5)),i&2){let o;z(o=B())&&(t.map=o.first),z(o=B())&&(t.adresseInput=o.first)}},inputs:{type:"type"},decls:50,vars:73,consts:[["adresseInput",""],["googleMap",""],[1,"theme-form","theme-form-2","mega-form",3,"ngSubmit","formGroup"],[3,"labelClass","gridClass","label","for","required"],[1,"form-check","form-switch","ps-0"],[1,"switch"],["type","checkbox","id","is_first_order","formControlName","isGlobal"],[1,"switch-state"],[1,"help-text"],["formControlName","vehicle_id",1,"custom-select",3,"disabled","data","placeholder"],[3,"label","for","required"],["type","text","name","name","formControlName","name",1,"form-control",3,"placeholder"],["class","invalid-feedback",4,"ngIf"],[1,"input-group"],["type","text","id","address","formControlName","adresse",1,"form-control",3,"placeholder"],["title","\u{1F4CD} Utiliser ma position actuelle",1,"input-group-text",2,"height","46px","cursor","pointer",3,"click"],[1,"ri-crosshair-2-line"],["type","checkbox","id","is_visible","formControlName","isVisible"],["type","checkbox","id","zoom_in","formControlName","zoom_in"],[2,"width","88%",3,"selectedItem","position","selectedOption","options"],["height","600px","width","100%",3,"center","zoom","options",4,"ngIf"],[1,"border-up-class","mt-4"],[3,"id"],[1,"invalid-feedback"],["height","600px","width","100%",3,"center","zoom","options"],[3,"position"],[3,"paths","options",4,"ngIf"],[3,"center","radius","options",4,"ngIf"],[3,"paths","options"],[3,"center","radius","options"]],template:function(i,t){if(i&1){let o=K();l(0,"form",2),E("ngSubmit",function(){return _(o),G(t.submit())}),l(1,"app-form-fields",3)(2,"div",4)(3,"label",5),d(4,"input",6)(5,"span",7),p(),l(6,"p",8),S(7),h(8,"translate"),p()()(),l(9,"app-form-fields",3),d(10,"select2",9),h(11,"async"),h(12,"async"),h(13,"translate"),p(),l(14,"app-form-fields",10),h(15,"translate"),d(16,"input",11),h(17,"translate"),D(18,Tt,3,3,"div",12),p(),l(19,"app-form-fields",10),h(20,"translate"),l(21,"div",13),d(22,"input",14,0),h(24,"translate"),l(25,"span",15),E("click",function(){return _(o),G(t.getCurrentLocation())}),d(26,"i",16),p()()(),l(27,"app-form-fields",3)(28,"div",4)(29,"label",5),d(30,"input",17)(31,"span",7),p(),l(32,"p",8),S(33),h(34,"translate"),p()()(),l(35,"app-form-fields",3)(36,"div",4)(37,"label",5),d(38,"input",18)(39,"span",7),p(),l(40,"p",8),S(41),h(42,"translate"),p()()(),l(43,"app-form-fields",3)(44,"div",4)(45,"app-advanced-dropdown",19),E("selectedItem",function(c){return _(o),G(t.selectMthodeNotif(c))}),p()()(),D(46,kt,5,6,"google-map",20),l(47,"div",21)(48,"app-button",22),S(49),p()()()}if(i&2){let o;n("formGroup",t.form),a(),n("labelClass","form-label-title col-sm-2 mb-0")("gridClass","col-sm-10")("label","is_global")("for","is_first_order")("required",!1),a(6),J(g(8,47,"help_text_geofence_global")),a(2),n("labelClass","form-label-title col-sm-2 mb-0")("gridClass","col-sm-10")("label","vehicles")("for","exclude_product")("required",!1),a(),n("disabled",t.form.controls.isGlobal.value)("data",(o=g(11,49,t.vehicle$))!=null&&o.length?g(12,51,t.vehicle$):k(67,xt))("placeholder",g(13,53,"select_vehicle")),a(4),n("label",g(15,55,"name"))("for","name")("required",!0),a(2),pe("placeholder",g(17,57,"enter_name")),a(2),n("ngIf",t.form.controls.name.touched&&(t.form.controls.name.errors==null?null:t.form.controls.name.errors.required)),a(),n("label",g(20,59,"adresse"))("for","value")("required",!1),a(3),pe("placeholder",g(24,61,"adresse")),a(5),n("labelClass","form-label-title col-sm-2 mb-0")("gridClass","col-sm-10")("label","is_visible")("for","is_visible")("required",!1),a(6),J(g(34,63,"help_text_is_visible")),a(2),n("labelClass","form-label-title col-sm-2 mb-0")("gridClass","col-sm-10")("label","zoom_in")("for","zoom_in")("required",!1),a(6),J(g(42,65,"help_text_zoom_in")),a(2),n("labelClass","form-label-title col-sm-2 mb-0")("gridClass","col-sm-10")("label","actions")("for","vehicle_featured")("required",!1),a(2),n("position","bottom")("selectedOption",t.selectedActions)("options",we(70,At,k(68,It),k(69,Mt))),a(),n("ngIf",t.visible),a(2),n("id","attribute_btn"),a(),U(" ",t.type=="create"?"Save Geofence":"Update Geofence"," ")}},dependencies:[Ge,Xe,Ze,et,tt,Ve,ke,Ee,Fe,Oe,Pe,$e,qe,Qe,Ye,Be,Se,te],styles:[".map[_ngcontent-%COMP%]{flex:1;height:500px;width:100%;background-color:transparent;opacity:0;transition:opacity .15s ease-in}.map.visible[_ngcontent-%COMP%]{opacity:1}#address[_ngcontent-%COMP%]{margin-bottom:10px;box-sizing:border-box}"]});var A=P;f([Z(oe.vehicles)],A.prototype,"vehicle$",void 0);var pt=(()=>{let e=class e{};e.\u0275fac=function(o){return new(o||e)},e.\u0275cmp=w({type:e,selectors:[["app-create-geofence"]],decls:2,vars:2,consts:[[3,"title"],[3,"type"]],template:function(o,s){o&1&&(l(0,"app-page-wrapper",0),d(1,"app-form-geofence",1),p()),o&2&&(n("title","add_geofence"),a(),n("type","create"))},dependencies:[F,A]});let r=e;return r})();var dt=(()=>{let e=class e{};e.\u0275fac=function(o){return new(o||e)},e.\u0275cmp=w({type:e,selectors:[["app-edit-geofence"]],decls:2,vars:2,consts:[[3,"title"],[3,"type"]],template:function(o,s){o&1&&(l(0,"app-page-wrapper",0),d(1,"app-form-geofence",1),p()),o&2&&(n("title","edit_geofence"),a(),n("type","edit"))},dependencies:[F,A]});let r=e;return r})();var Nt=[{path:"",component:q,canActivate:[ie],data:{permission:"geofence.index"}},{path:"create",component:pt,canActivate:[ie],data:{permission:["geofence.index","geofence.create"]}},{path:"edit/:id",component:dt,canActivate:[ie],data:{permission:["geofence.index","geofence.edit"]}}],mt=(()=>{let e=class e{};e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=Y({type:e}),e.\u0275inj=Q({imports:[de.forChild(Nt),de]});let r=e;return r})();var Ui=(()=>{let e=class e{};e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=Y({type:e}),e.\u0275inj=Q({imports:[xe,it,mt,He,Te.forFeature([m,oe])]});let r=e;return r})();export{Ui as GeofenceModule};
