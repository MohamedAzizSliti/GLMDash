import{$ as d,Bc as c,Y as p,yc as l}from"./chunk-V4SAOAZP.js";var n={production:!0,URL:"https://gold-gps.bensassiridha.com/admin/api",username_server_gps:"bensassiridha1@gmail.com",password_server_gps:"admin",serverHost:"https://gps-server.bensassiridha.com/",showAdresses:!0,pusher_app_key:"019d5044fe960ba227c2",pusher_cluster:"eu"};var H=(()=>{let i=class i{constructor(e){this.http=e,this.url=n.serverHost+"api/",this.username=n.username_server_gps,this.password=n.password_server_gps}getAuthHeaders(){let e=btoa(`${this.username}:${this.password}`);return new l({"Content-Type":"application/json",Authorization:`Basic ${e}`})}getDevices(){return this.http.get(this.url+"devices",{headers:this.getAuthHeaders()})}getInfofDevice(e){return this.http.get(this.url+"devices/"+e,{headers:this.getAuthHeaders()})}getPositions(e=null,t=null,r=null){let s="";return console.log("/***** The Value ****/"),console.log(r),e&&(s="?deviceId="+e),t&&r&&(s=s+"&from="+t+"&to="+r),this.http.get(`${this.url}positions`+s,{headers:this.getAuthHeaders()})}excuteCmd(e,t){return this.http.post(this.url+"commands/send",{deviceId:e,type:t,attributes:{command:t}},{headers:this.getAuthHeaders()})}addGeofence(e){return this.http.post(this.url+"geofences",e,{headers:this.getAuthHeaders()})}getGeofences(e=null){let t=`${this.url}geofences`;return e&&(t+=`?deviceId=${e}`),this.http.get(t,{headers:this.getAuthHeaders()})}getPermissions(){return this.http.get(`${this.url}permissions`,{headers:this.getAuthHeaders()})}getEvents(e,t,r,s){let a=`${this.url}reports/events`,h=this.getAuthHeaders(),o={deviceId:e.toString(),type:t.join(","),from:r,to:s};return this.http.get(a,{headers:h,params:o})}getTrajets(e,t,r){let s=`${this.url}reports/trips?`,a=this.getAuthHeaders(),h=t||null,o=r||null;if(e.length>0){let g=e.join(",");s+=`deviceId=${g}&`}return h&&(s+=`from=${h}&`),o&&(s+=`to=${o}`),this.http.get(s,{headers:a})}getAdresseFromLAtLng(e,t){let r=`https://cors-anywhere.herokuapp.com/${this.url}geocode?lat=${e}&lon=${t}`;return this.http.get(r,{headers:this.getAuthHeaders()})}linkGeofenceToDevice(e,t){let r={id:e,geofences:[t]};return this.http.put(`${this.url}devices/${e}`,r,{headers:this.getAuthHeaders()})}createGeofenceRule(e,t,r){let s={name:e,condition:`deviceId = ${r} AND geofenceId = ${t}`,action:"alert"};return this.http.post(this.url+"rules",s,{headers:this.getAuthHeaders()})}getStops(e=null,t=null,r=null){let s="";return e&&(s="?deviceId="+e),t&&r&&(s=s+"&from="+t+"&to="+r),this.http.get(`${this.url}reports/stops`+s,{headers:this.getAuthHeaders()})}};i.\u0275fac=function(t){return new(t||i)(d(c))},i.\u0275prov=p({token:i,factory:i.\u0275fac,providedIn:"root"});let u=i;return u})();export{n as a,H as b};
