import{$ as p,Bc as g,Y as i}from"./chunk-V4SAOAZP.js";import{f as d}from"./chunk-CWTPBX7D.js";var f=(()=>{let n=class n{constructor(t){this.http=t}parsePolygonArea(t){let e=t.match(/POLYGON \(\(([^)]+)\)\)/);return e?e[1].split(",").map(r=>{let[o,a]=r.trim().split(" ").map(Number);return{lng:a,lat:o}}):[]}parseCircleArea(t){let e=t.replace("CIRCLE (","").replace(")",""),[r,o]=e.split(", "),[a,s]=r.split(" ").map(Number);return{center:{lng:s,lat:a},radius:Number(o)}}getAddress(t,e){let r=new google.maps.Geocoder,o=new google.maps.LatLng(t,e);r.geocode({location:o},(a,s)=>s===google.maps.GeocoderStatus.OK&&a[0]?a[0].formatted_address:"Address not found")}};n.\u0275fac=function(e){return new(e||n)(p(g))},n.\u0275prov=i({token:n,factory:n.\u0275fac,providedIn:"root"});let c=n;return c})();var w=(()=>{let n=class n{constructor(){this.win=window}initMap(t,e){return d(this,null,function*(){return new this.win.google.maps.Map(t,e)})}drawPath(t,e){let r={path:e,geodesic:!0,strokeColor:"#FF0000",strokeOpacity:1,strokeWeight:3,icons:[]};r.icons=this.addDynamicArrows(e);let o=new google.maps.Polyline(r);return o.setMap(t),o}addDynamicArrows(t){let e=[];for(let o=0;o<t.length-1;o+=10){let a=t[o],s=t[o+1],l=this.calculateAngle(a,s);e.push({icon:{path:google.maps.SymbolPath.FORWARD_CLOSED_ARROW,scale:3,strokeColor:"#0014ff"},offset:`${o/t.length*100}%`,rotation:l})}return e}calculateAngle(t,e){let r=e.lat-t.lat,o=e.lng-t.lng;return Math.atan2(r,o)*180/Math.PI}getAddressFromLatLng(t,e){return d(this,null,function*(){let r=new this.win.google.maps.Geocoder;return new Promise((o,a)=>{r.geocode({location:{lat:t,lng:e}},(s,l)=>{l==="OK"&&s[0]?o(s[0].formatted_address):o("Address not available")})})})}};n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=i({token:n,factory:n.\u0275fac,providedIn:"root"});let c=n;return c})();export{f as a,w as b};
